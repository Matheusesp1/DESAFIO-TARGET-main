<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<link rel="icon" href="/DESAFIO-TARGET-main/API/image/fin.png" />
<title>Sistema Comercial</title>

<!-- Fonte moderna -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<!-- CSS Externo -->
<link rel="stylesheet" href="style.css">

</head>
<body>

<h1>ðŸ“Š Sistema Comercial - Dashboard</h1>

<div class="container">

    <!-- CARD 1 - COMISSÃ•ES -->
    <div class="card">
        <h2>ðŸ’° CÃ¡lculo de ComissÃµes</h2>
        <button onclick="calcularComissoes()">Calcular ComissÃµes</button>
        <pre id="saidaComissoes">Resultado</pre>
    </div>

    <!-- CARD 2 - ESTOQUE -->
    <div class="card">
        <h2>ðŸ“¦ Movimentar Estoque</h2>

        <label>CÃ³digo do Produto</label>
        <input id="codigo" type="number">

        <label>Quantidade (negativo = saÃ­da)</label>
        <input id="quantidade" type="number">

        <label>DescriÃ§Ã£o da MovimentaÃ§Ã£o</label>
        <input id="descricao">

        <button onclick="movimentar()">Registrar MovimentaÃ§Ã£o</button>

        <pre id="saidaEstoque">Resultado</pre>
    </div>

    <!-- CARD 3 - JUROS -->
    <div class="card">
        <h2>ðŸ“… CÃ¡lculo de Juros</h2>

        <label>Valor da dÃ­vida</label>
        <input id="valor" type="number">

        <label>Data de Vencimento</label>
        <input id="vencimento" type="date">

        <button onclick="calcularJuros()">Calcular Juros</button>

        <pre id="saidaJuros">Resultado</pre>
    </div>
</div>

<script>
const API = "http://localhost:3000";

// â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1. COMISSÃ•ES â”€â”€â”€â”€â”€â”€â”€â”€â”€
function calcularComissoes() {
    fetch(API + "/comissoes")
        .then(r => r.json())
        .then(data => {
            document.getElementById("saidaComissoes").textContent =
                JSON.stringify(data, null, 2);
        });
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2. ESTOQUE â”€â”€â”€â”€â”€â”€â”€â”€â”€
function movimentar() {
    const body = {
        codigoProduto: Number(document.getElementById("codigo").value),
        quantidade: Number(document.getElementById("quantidade").value),
        descricao: document.getElementById("descricao").value
    };

    fetch(API + "/movimentar-estoque", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
    })
    .then(r => r.json())
    .then(data => {
        document.getElementById("saidaEstoque").textContent =
            JSON.stringify(data, null, 2);
    });
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3. JUROS â”€â”€â”€â”€â”€â”€â”€â”€â”€
function calcularJuros() {
    const body = {
        valor: Number(document.getElementById("valor").value),
        dataVencimento: document.getElementById("vencimento").value
    };

    fetch(API + "/juros", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
    })
    .then(r => r.json())
    .then(data => {
        document.getElementById("saidaJuros").textContent =
            JSON.stringify(data, null, 2);
    });
}
</script>

</body>
</html>

